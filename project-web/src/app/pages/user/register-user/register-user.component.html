<div fxLayoutAlign="center center" fxFill class="mat-typography">
    <form [formGroup]="registerForm">
        <mat-card class="mat-elevation-z6 card-register" fxFlex>
            <div fxLayout="row" fxLayoutAlign="center start" fxFill>
                <div id="logo" fxLayoutAlign="center center" fxFlex fxFill>
                    <button mat-mini-fab id="btn-back" color="accent" matTooltip="Voltar" routerLink="/user/login">
                      <span class="material-icons">
                        arrow_back
                      </span>
                    </button>
                    <img src="../../../../assets/images/logo.png" />
                </div>

                <form [formGroup]="registerForm">
                    <div id="register" fxLayout="row wrap" fxLayoutAlign="space-between center">
                        <h2 class="color-primary title">Crie sua Conta</h2>

                        <mat-form-field fxFlex="100">
                            <mat-label>Nome Completo</mat-label>
                            <input matInput formControlName="fullName">
                            <mat-error *ngIf="registerForm.get('fullName').hasError('required')">
                                O nome completo é <strong>obrigatório</strong>
                            </mat-error>
                            <mat-icon color="primary" matSuffix>account_box</mat-icon>
                        </mat-form-field>

                        <mat-form-field fxFlex="100">
                            <mat-label>Nome de usuário</mat-label>
                            <input matInput formControlName="userName">
                            <mat-error *ngIf="registerForm.get('userName').hasError('required')">
                                O nome de usuário é <strong>obrigatório</strong>
                            </mat-error>
                            <mat-icon color="primary" matSuffix>perm_identity</mat-icon>
                        </mat-form-field>

                        <mat-form-field fxFlex="100">
                            <mat-label>E-Mail</mat-label>
                            <input matInput formControlName="email">
                            <button mat-button *ngIf="email" matSuffix mat-icon-button aria-label="Clear" (click)="email=''">
                              <mat-icon>close</mat-icon>
                            </button>
                            <mat-error *ngIf="registerForm.get('email').hasError('email') && !registerForm.get('email').hasError('required')">
                                Por favor entre com endereço de e-mail válido
                            </mat-error>
                            <mat-error *ngIf="registerForm.get('email').hasError('required')">
                                Email é <strong>obrigatório</strong>
                            </mat-error>
                            <mat-icon color="primary" matSuffix>email</mat-icon>
                        </mat-form-field>

                        <mat-form-field fxFlex="80" formGroupName="passwords">
                            <mat-label>Senha</mat-label>
                            <input matInput type="password" formControlName="password" [type]="hide?'text':'password'">
                            <mat-error *ngIf="registerForm.get('passwords.password').getError('required')">
                                A senha é <strong>obrigatória</strong>
                            </mat-error>
                            <mat-error *ngIf="registerForm.get('passwords.password').hasError('minlength')">
                                A senha deve possuir no mínimo 4 caracters
                            </mat-error>
                            <mat-icon color="primary" matSuffix>vpn_key</mat-icon>
                        </mat-form-field>

                        <mat-form-field fxFlex="80" formGroupName="passwords">
                            <mat-label>Confirmar</mat-label>
                            <input matInput type="password" formControlName="verifyPassword" [type]="hide?'text':'password'">
                            <mat-error *ngIf="registerForm.get('passwords.verifyPassword').getError('required')">
                                Confirme a senha
                            </mat-error>
                            <mat-error *ngIf="registerForm.get('passwords.verifyPassword').hasError('passwordsDoNotMatch')">
                                Essas senhas não coincidem.
                            </mat-error>
                            <mat-icon color="primary" matSuffix>vpn_key</mat-icon>
                        </mat-form-field>

                        <button mat-icon-button (click)="checkHide()" color="primary">
                          <span class="material-icons" matSuffix>
                            {{hide?'visibility':'visibility_off'}}
                          </span>
                        </button>

                        <button mat-raised-button class="btn-register" [disabled]="registerForm.invalid" (click)="registerUser()" color="primary" fxFill>Cadastrar</button>
                    </div>
                </form>
            </div>
        </mat-card>
    </form>
</div>
